"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[73489],{920781:function(e,n,t){t.d(n,{c:function(){return p},y:function(){return f}});var r=t(32425),o=t(724207),i=t(907683),a=t(498177),l=t(260259),u=t(885949);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var d=(0,r.createContext)(null),f=function(e){var n=e.children,t=(0,l.TH)(),c=(0,r.useRef)((0,i.fY)(t)&&(0,a.mB)(t.search).invite_code||null),f=s((0,r.useState)(c.current?{data:null}:null),2),p=f[0],h=f[1];return(0,r.useEffect)((function(){var e=c.current;e&&o.ZP.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then((function(e){var n,t=null===(n=e.resource_response)||void 0===n?void 0:n.data;if(t){var r,o=null!==(r=t.sender)&&void 0!==r?r:null;h({data:{inviter:o,popoverData:o&&![5,9,12,16].includes(t.invite_channel)?{inviterAvatarUrl:o.image_medium_url||"",inviterName:o.first_name||o.full_name}:null}})}else h({data:null})})).catch((function(){return h({data:null})}))}),[]),(0,u.jsx)(d.Provider,{value:p,children:n})},p=function(){return(0,r.useContext)(d)}},200712:function(e,n,t){var r=t(260259),o=Object.freeze({"/:username":"profile","/:username/:slug/:section_slug":"board","/:username/:slug":"board","/csrf_error":"csrfError","/email_verification_error":"emailVerificationError","/email/remove":"emailRemove","/email/subscription":"emailSubscription","/ideas":"ideasRoot","/ideas/:interest/:id":"ideasHub","/invited":"invited","/password/reset":"passwordReset","/pin/:id":"pin","/pin/:id/feedback":"pinFeedBack","/pin/:id/sent":"pinFeedBack","/pin/:id/visual-search":"flashlight","/pin/create/:method":"pinBookmarklet","/pw/:username":"resetPasswordUsername","/search/:scope":"search","/today":"todayTab","/today/:term/:title/:articleId":"todayArticleFeed","/today/popular/:interest/:interestId":"todayArticleInterestFeed","/tv":"LiveSessionEvent","/tv/:pin_id":"liveSessionCloseup","/unlink":"unlinkAccount"});n.Z=function(){var e=(0,r.$B)().path;return o[e]||"unknown"}},665772:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(32425),o=t(885949);function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e){var n=e.alt,t=e.className,a=e.errorFallback,l=e.onLoad,u=e.src,s=e.srcSet,c=e.style,d=i((0,r.useState)(!1),2),f=d[0],p=d[1];return f?(0,o.jsx)("span",{children:a&&a()}):(0,o.jsx)("img",{alt:n,className:t,onError:function(){return p(!0)},onLoad:l,src:u,style:c,srcSet:s})}},900963:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(32425),o=t(678391),i=t(156575),a=t(987902),l=t(518122),u=t(710159),s=t(146846),c=t(885949);function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return f(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=function(e){var n=e.color,t=void 0===n?"#efefef":n,r=e.width,o=void 0===r?500:r,i=e.reverse,a=void 0!==i&&i?"M49.33871,98.67741A49.33871,49.33871,0,0,1,49.33871,0h81.32258a49.33871,49.33871,0,0,1,0,98.67742H104.34757l3.17049,12.02761c.64946,1.2671-1.29892,2.53419-2.59784,1.90064L76.22791,98.67741Z":"M103.77209,98.67741,75.07978,112.60566c-1.29892.63355-3.2473-.63354-2.59784-1.90064l3.17049-12.02761H49.33871A49.33871,49.33871,0,0,1,49.33871,0h81.32258a49.33871,49.33871,0,0,1,0,98.67742Z";return(0,c.jsx)("svg",{"data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 180 113",width:o,children:(0,c.jsx)("g",{children:(0,c.jsx)("g",{children:(0,c.jsx)("g",{children:(0,c.jsx)("path",{d:a,fill:t})})})})})},m=function(){return(0,c.jsx)(i.Z,{name:"unauthUser",src:"https://i.pinimg.com/originals/d1/7f/3d/d17f3dbfdeaadfb3cddbf956f0c203d0.png"})},b=function(e){var n=e.sender,t=e.showIconScale,o=(0,u.ZP)(),a=n?n.first_name:"",l=n?n.image_medium_url:"",d=t?{transform:"scale(1.8)",transition:"all .8s cubic-bezier(0.66, 0.025, 0.33, 0.975)"}:{},f=t?{opacity:1,transition:"opacity .5s cubic-bezier(0.66, 0.025, 0.33, 0.975)"}:{opacity:0};return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsxs)(s.xu,{children:[(0,c.jsx)(s.xu,{position:"absolute",width:100,height:100,dangerouslySetInlineStyle:{__style:{top:"25%",left:"25%"}},children:(0,c.jsx)(i.Z,{name:a,src:l})}),(0,c.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"10%",left:"30%"}},children:(0,c.jsx)(y,{width:200})})]}),(0,c.jsxs)(s.xu,{children:[(0,c.jsx)(s.xu,{position:"absolute",width:100,height:100,dangerouslySetInlineStyle:{__style:{bottom:"26%",right:"19%"}},children:(0,c.jsx)(m,{})}),(0,c.jsxs)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:"35%",right:"27%"}},children:[(0,c.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:h({left:"42%",top:"32%"},d)},children:(0,c.jsx)(s.JO,{accessibilityLabel:o._("checkmark Green","accesibility label for a green checkmark icon","accesibility label for a green checkmark icon"),icon:"check-circle",color:"green",size:25})}),(0,c.jsx)(y,{reverse:!0,width:200})]})]}),(0,c.jsx)(s.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{bottom:"13%",right:"32%"}},children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:f},children:(0,c.jsx)(s.X6,{children:o._("Message sent!","Response letting users know the message they wrote just sent","Response letting users know the message they wrote just sent")})})})]})},v=function(){var e=(0,u.ZP)(),n=d((0,r.useState)(!1),2),t=n[0],o=n[1];return(0,r.useEffect)((function(){var e=window.setTimeout((function(){o(!0)}),100);return function(){window.clearTimeout(e)}}),[]),(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(s.xu,{position:"absolute",width:100,height:100,dangerouslySetInlineStyle:{__style:t?{bottom:"26%",right:"19%",transition:"transform .8s cubic-bezier(0.66, 0.025, 0.33, 0.975)",transform:"translate(-11em, -16em)"}:{bottom:"26%",right:"19%",transition:"transform .8s cubic-bezier(0.66, 0.025, 0.33, 0.975)"}},children:(0,c.jsx)(m,{})}),(0,c.jsx)(s.xu,{position:"absolute",maxWidth:"52%",dangerouslySetInlineStyle:{__style:{bottom:"24%",right:"23%"}},children:(0,c.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:t?{opacity:1,transition:"opacity .5s cubic-bezier(0.66, 0.025, 0.33, 0.975)",transitionDelay:".8s"}:{opacity:0}},children:[(0,c.jsx)(s.X6,{children:e._("Now, set up your Pinterest account","header asking users to set up Pinteret account after signing up","header asking users to set up Pinteret account after signing up")}),(0,c.jsx)(s.xu,{paddingY:6,children:(0,c.jsx)(s.xv,{align:"center",weight:"bold",children:(0,c.jsx)("span",{className:"deprecatedTextSizeXL",children:e._("This creates a home feed of ideas you'll love","after signup and transition going into the nux step which will help customize their experience","after signup and transition going into the nux step which will help customize their experience")})})})]})})]})};function w(e){var n=e.sender,t=d((0,r.useState)(!1),2),o=t[0],i=t[1],a=d((0,r.useState)(!1),2),u=a[0],f=a[1];return(0,r.useEffect)((function(){var e=null;return e=window.setTimeout((function(){i(!0),e=window.setTimeout((function(){f(!0),e=window.setTimeout((function(){l.ZP.handleSignupRedirect("/",!0)}),3e3)}),3e3)}),500),function(){window.clearTimeout(e)}}),[]),(0,c.jsx)(s.xu,{marginTop:12,display:"flex",flex:"grow",children:u?(0,c.jsx)(v,{}):(0,c.jsx)(b,{sender:n,showIconScale:o})})}var x=t(665772),_=t(71445),S=t(724207);function j(e,n,t,r,o,i,a){try{var l=e[i](a),u=l.value}catch(s){return void t(s)}l.done?n(u):Promise.resolve(u).then(r,o)}function O(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){T(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){var n=e.children,t=e.inTransition;return(0,c.jsx)(s.xu,{color:"white","data-test-id":"signup-modal-full-page",dangerouslySetInlineStyle:{__style:I({transition:"all .25s cubic-bezier(0.66, 0.025, 0.33, 0.975)",textAlign:"center",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},t?{maxWidth:"50.5em",maxHeight:"700px",height:"640px",width:"50.5em"}:{maxWidth:"60.5em",maxHeight:"500px"})},display:"inlineBlock",margin:"auto",minHeight:450,position:"relative",rounding:2,children:n})}function C(e){var n,t,d=e.pin,f=e.sender,p=e.modalType,h=O((0,r.useState)(""),2),g=h[0],y=h[1],m=O((0,r.useState)(!1),2),b=m[0],v=m[1],k=(0,u.ZP)();if(b)return(0,c.jsx)(A,{inTransition:!0,children:(0,c.jsxs)(s.xu,{children:[(0,c.jsx)(s.xu,{width:"100%",color:"lightGray",rounding:2,children:(0,c.jsx)(o.Z,{duration:6500,finalProgress:100,shape:"rounded"})}),(0,c.jsx)(w,{sender:f})]})});var P=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _.Z.increment("web.social.unauth.response.message.notsimilar.click",1),e.next=3,S.ZP.create("ConversationsResource",{user_ids:[f.id],text:g,pin:d.id}).callCreate();case 3:_.Z.increment("web.social.unauth.response.message.".concat(p,".notsimilar.send"),1),"signup"===p?v(!0):l.ZP.handleRedirect("/notifications/?tab=inbox");case 5:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){j(i,r,o,a,l,"next",e)}function l(e){j(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),I=f.first_name,T=g.trim().length>0,C=(0,a.Z)(d.images,"orig");return(0,c.jsx)(A,{children:(0,c.jsxs)(s.xu,{direction:"row",alignItems:"start",justifyContent:"between",display:"flex",flex:"grow",padding:8,children:[(0,c.jsxs)(s.xu,{width:"55%",children:[(0,c.jsxs)(s.xu,{alignItems:"center",justifyContent:"between",direction:"row",display:"flex",flex:"grow",marginBottom:3,children:[(0,c.jsx)(s.xu,{marginBottom:2,children:(0,c.jsx)(s.X6,{children:k._("So, what do you think?","asking reciever what they think of the pin sent to them","asking reciever what they think of the pin sent to them")})}),(0,c.jsx)(s.xu,{children:(0,c.jsx)(i.Z,{name:I,size:"lg",src:f.image_medium_url})})]}),(0,c.jsxs)(s.xu,{marginTop:6,children:[(0,c.jsx)(s.xu,{marginBottom:6,children:(0,c.jsx)(s.Kx,{id:"unauth_response",onChange:function(e){var n=e.value;return y(n)},value:g,placeholder:I?k._("Reply to {{ name }}","placholder text prompting users to reply back to sender(name)","placholder text prompting users to reply back to sender(name)").replace("{{ name }}",I):"",rows:6})}),(0,c.jsx)(s.xu,{marginBottom:1,children:(0,c.jsx)(s.zx,{fullWidth:!0,text:k._("Send message","button text to send a message","button text to send a message"),color:T?"red":"gray",disabled:!T,accessibilityLabel:k._("Send message"," accessibilty label for sending a message"," accessibilty label for sending a message"),onClick:function(){P()}})}),(0,c.jsx)(s.xu,{children:(0,c.jsx)(s.zx,{fullWidth:!0,text:k._("Skip for now","button text to continue signup flow without sending a message","button text to continue signup flow without sending a message"),color:"white",accessibilityLabel:k._("Skip for now"," accessibilty label for continuing signup flow without a response message"," accessibilty label for continuing signup flow without a response message"),onClick:function(){_.Z.increment("web.social.unauth.response.".concat(p,".notsimilar.skip"),1),"signup"===p?l.ZP.handleSignupRedirect("/",!0):l.ZP.handleRedirect("/notifications/?tab=inbox")}})})]})]}),(0,c.jsx)(s.xu,{children:(0,c.jsxs)(s.xu,{rounding:2,minWidth:262,children:[(0,c.jsx)(s.xu,{display:"inlineBlock",overflow:"hidden",position:"relative",rounding:2,children:(0,c.jsx)(s.GH,{contentAspectRatio:"number"==typeof C.height&&"number"==typeof C.width?C.width/C.height:1,height:362,width:262,children:(0,c.jsx)(x.Z,{alt:null!==(n=d.description)&&void 0!==n?n:"",src:null!==(t=C.url)&&void 0!==t?t:"",style:{width:"262px",height:"362px",objectFit:"cover"}})})}),(0,c.jsx)(s.xu,{marginTop:2,children:(0,c.jsx)(s.xv,{lineClamp:1,weight:"bold",children:d.title||d.description})})]})})]})})}},518506:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(710159),o=t(146846),i=t(885949);function a(){var e=(0,r.ZP)();return(0,i.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(o.$j,{accessibilityLabel:e._("Loading signup form"," - "," -- "),show:!0})})}},38553:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(32425),o=t(648268),i=t(360068),a=t(367759),l=t(201361),u=t(907683),s=t(146846),c=t(260259),d=t(885949),f=["passwordReset","passwordUserName","topic","flashlight","todayTab","todayArticleFeed","todayArticleInterestFeed","ideasHub","ideasRoot","invited","pinBookmarklet"];function p(e){var n=e.hideDesktopSignupModal,t=e.inviter,p=e.pageType,h=e.signupModalState,g=e.shouldShowSignupWelcomeLoading,y=e.setShouldShowSignupWelcomeLoading,m=(0,l.Z)(),b=(0,c.TH)(),v=m&&!function(e){var n=e.pageType,t=e.location;return f.includes(n)||(0,u.Ni)(t)||(0,u.C$)(t)||(0,u.Xn)(t)||(0,u.HV)(t)||(0,u.kY)(t)||"/invited/"===t.pathname||t.pathname.startsWith("/about/")}({location:b,pageType:p});return(0,d.jsxs)(r.Fragment,{children:[v&&(0,d.jsx)(a.Z,{inviter:t,pageType:p}),h.modal.isShown&&(0,d.jsx)(o.Z,{inviter:t,hideDesktopSignupModal:n,pageType:p,setShouldShowSignupWelcomeLoading:y,displayProps:h.modal.displayProps}),g&&(0,d.jsx)(s.xu,{opacity:1,position:"fixed",bottom:!0,top:!0,right:!0,left:!0,zIndex:new s.Ry(100),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}},children:(0,d.jsx)(i.Z,{})})]})}},648268:function(e,n,t){var r=t(32425),o=t(900963),i=t(518506),a=t(443109),l=t(579003),u=t(308066),s=t(132173),c=t(146846),d=t(20814),f=t(740049),p=t(885949);function h(e,n){return v(e)||b(e,n)||y(e,n)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,n){if(e){if("string"==typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?m(e,n):void 0}}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}}function v(e){if(Array.isArray(e))return e}var w=(0,l.ZP)({resolved:{},chunkName:function(){return"FullPageSignup"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return Promise.all([t.e(97270),t.e(16458)]).then(t.bind(t,631294))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((function(e){return n.resolved[t]=!0,e}))},requireSync:function e(n){var r=this.resolve(n);return t(r)},resolve:function e(){return 631294}}),x=function(e){var n=e.isPinOrBoardPage;return(0,r.useEffect)((function(){n&&(0,u.Z)()}),[n]),null},_=function(e){"saveButtonExp"===e&&d.Xb.getItem("unauthDesktopSavePinId")&&d.Xb.removeItem("unauthDesktopSavePinId")},S=function(e){"unauthFollowButton"===e&&d.Xb.getItem("unauthDesktopFollowId")&&d.Xb.removeItem("unauthDesktopFollowId")},j=function(e){var n=e.hideDesktopSignupModal,t=e.inviter,l=e.pageType,u=e.setShouldShowSignupWelcomeLoading,d=e.displayProps,g=h((0,r.useState)(null),2),y=g[0],m=g[1],b=d.modalType,v=d.mfaCreds,j=d.container,O=d.source,k=d.socialRegistrationCredentials,P=d.respondMessageModalPayload,I=d.savePinId,T=["pin","board"].includes(l);return(0,p.jsxs)(r.Fragment,{children:[!!b&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)(a.Z,{unsafeCSS:"body { overflow: hidden !important }"}),(0,p.jsx)(c.xu,{"data-test-id":"fullPageSignupModal",children:(0,p.jsxs)(s.Z,{canClose:!0,onCloseClick:function(){_(O),S(O),n({shouldDoSideEffects:!0})},type:"default",children:[(0,p.jsx)(w,{fallback:(0,p.jsx)(i.Z,{}),container:null!=j?j:"",handleCloseButtonClick:function(){T&&((0,f.My)("unauth.web.page_wrapper.handle_close_click"),_(O)),n({shouldDoSideEffects:!T})},handleShowingSignupWelcomeLoading:u,inviter:t,mfaCreds:v,savePinId:I,showResponseMessageModal:function(e){n({shouldDoSideEffects:!1}),m(e?"signup":"login")},signupSource:O||void 0,socialRegistrationCredentials:k,toggleType:"NOT_NOW_BUTTON",type:b,showCloseIcon:!0}),(0,p.jsx)(x,{isPinOrBoardPage:T})]})})]}),y&&(0,p.jsx)(c.xu,{"data-test-id":"fullPageResponseModal",children:(0,p.jsx)(s.Z,{canClose:!1,type:"default",children:!!(P&&P.pin&&t)&&(0,p.jsx)(o.Z,{modalType:y,pin:P.pin,sender:t})})})]})};n.Z=j},360068:function(e,n,t){var r=t(678391),o=t(710159),i=t(146846),a=t(885949);n.Z=function(){var e=(0,o.ZP)();return(0,a.jsx)(i.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",width:"100%",height:"100%",children:(0,a.jsxs)(i.xu,{color:"white",height:600,minWidth:"500px",rounding:2,width:"30%",children:[(0,a.jsxs)(i.xu,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12,children:[(0,a.jsx)(i.xu,{alignItems:"center",color:"red",display:"flex",height:60,justifyContent:"center",marginBottom:4,rounding:"circle",width:60,children:(0,a.jsx)(i.JO,{accessibilityLabel:e._("Loading state for google one tap registration"," - "," -- "),color:"white",icon:"pin",size:"28"})}),(0,a.jsx)(i.xu,{paddingY:5,dangerouslySetInlineStyle:{__style:{"text-align":"center"}},children:(0,a.jsx)(i.X6,{children:e._("Welcome to Pinterest!","Welcome to Pinterest!","Welcome to Pinterest!")})}),(0,a.jsx)(i.xv,{align:"center",overflow:"normal",children:(0,a.jsx)("span",{className:"deprecatedTextSizeXL",children:e._("Your answers to the next questions will help us find the right ideas for you","loading state description while waiting for google one tap registration to complete","loading state description while waiting for google one tap registration to complete")})})]}),(0,a.jsx)(i.xu,{width:"100%",children:(0,a.jsx)(r.Z,{duration:6e3,finalProgress:95,shape:"rounded"})})]})})}},196641:function(e,n,t){var r=t(32425),o=t(132173),i=t(710159),a=t(64385),l=t(146846),u=t(885949);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return c(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var d=function(e){var n=e.dismiss,t=e.errorMessage,r=(0,i.ZP)();return(0,u.jsx)(o.Z,{canClose:!1,hidden:!1,type:"error",children:(0,u.jsxs)(l.xu,{color:"white",margin:"auto",width:380,zIndex:new l.Ry(2e3),dangerouslySetInlineStyle:{__style:{borderRadius:"6px"}},children:[(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"20px",fontWeight:"bold",borderBottom:"1px solid #e7e7e7"}},padding:5,children:r._("Oops!","unauth.error.modal","Header for error modal")}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:"#333",fontSize:"14px",lineHeight:"21px"}},padding:5,children:t}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"#f0f0f0",borderBottom:"1px solid #dadada",borderRadius:"0 0 6px 6px",padding:"10px 20px"}},height:30,children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{float:"right"}},children:(0,u.jsx)("button",{className:"UnauthBanner__continueButton",onClick:function(){return n()},style:{backgroundColor:"#ab171e",border:"1px solid #820a0f",borderRadius:"3px",color:"#fff",cursor:"pointer",fontSize:"14px",fontWeight:"bold",padding:"6px 12px",marginTop:"-10px"},children:r._("Okay","unauth.error.modal.okay","Button text for accepting that there was an error")})})})]})})};n.Z=function(e){var n=e.children,t=s((0,r.useState)(null),2),o=t[0],i=t[1],l=(0,r.useRef)(null);return(0,a.o)((function(e){i(e),clearTimeout(l.current),l.current=setTimeout((function(){i(null)}),3e3)})),(0,r.useEffect)((function(){return function(){clearTimeout(l.current)}}),[]),(0,u.jsxs)(r.Fragment,{children:[n,!!o&&(0,u.jsx)(d,{dismiss:function(){return i(null)},errorMessage:o})]})}},132173:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(32425),o=t(146846),i=t(480179),a=t(740049),l=t(885949);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function f(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=g(e);if(n){var o=g(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return p(this,t)}}function p(e,n){if(n&&("object"===u(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var m=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&d(e,n)}(p,e);var n,t,r,u=f(p);function p(){var e;s(this,p);for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return y(h(e=u.call.apply(u,[this].concat(t))),"state",{hidden:e.props.hidden||!1}),y(h(e),"handleKeyDown",(function(n){var t=e.props,r=t.canClose,o=t.type;"Escape"===n.key&&((0,a.My)("unauth.authentication_modal.esc_key_click.NOT_NOW_BUTTON.".concat(o,".").concat(r?"can":"cant","_close")),r&&((0,a.My)("unauth.authentication_modal.esc_key_click.DISMISSED.".concat(o)),e.close())),n.stopPropagation()})),y(h(e),"close",(function(){var n=e.props,t=n.onCloseClick,r=n.onHide;t?t():(e.setState({hidden:!0}),r&&r())})),e}return n=p,(t=[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this,n=this.state.hidden,t=this.props,r=t.canClose,u=t.children,s=t.type;return n?null:(0,l.jsx)(o.xu,{bottom:!0,left:!0,opacity:1,position:"fixed",right:!0,top:!0,zIndex:i.P,dangerouslySetInlineStyle:{__style:{backgroundColor:"closeup"===s?"rgba(239, 239, 239, 0.96)":"rgba(0, 0, 0, 0.6)",cursor:"closeup"===s?"zoom-out":void 0}},children:(0,l.jsx)("div",{onClick:function(){(0,a.My)("unauth.full_page_modal.".concat(s,".empty_space_click")),r&&e.close()},"aria-label":"modal",role:"dialog",style:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:0,left:0,right:0,top:0,position:"fixed",display:"flex"},children:(0,l.jsx)("div",{onClick:function(e){e.stopPropagation()},onKeyDown:function(e){r&&"Escape"===e.key&&e.stopPropagation()},"aria-label":"modal",role:"dialog",style:{height:"100%",display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},children:u})})})}}])&&c(n.prototype,t),r&&c(n,r),p}(r.Component)},367759:function(e,n,t){var r=t(32425),o=t(579003),i=t(260245),a=t(146846),l=t(391878),u=t(958841),s=t(278482),c=t(952733),d=t(885949);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){O(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function y(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n,t){return n&&y(e.prototype,n),t&&y(e,t),e}function b(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&v(e,n)}function v(e,n){return(v=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function w(e){var n=S();return function(){var t,r=j(e);if(n){var o=j(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return x(this,t)}}function x(e,n){if(n&&("object"===f(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var k=(0,o.ZP)({resolved:{},chunkName:function(){return"UnauthHybridBannerSignupModal"},isReady:function(e){var n=this.resolve(e);return!0===this.resolved[n]&&!!t.m[n]},importAsync:function(){return t.e(33099).then(t.bind(t,272373))},requireAsync:function(e){var n=this,t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((function(e){return n.resolved[t]=!0,e}))},requireSync:function e(n){var r=this.resolve(n);return t(r)},resolve:function e(){return 272373}}),P=10,I=5,T=800,A=64,C=function(e){b(t,e);var n=w(t);function t(){var e;g(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(_(e=n.call.apply(n,[this].concat(o))),"state",{scrollSessionCount:0,shouldShowBanner:!1}),O(_(e),"onScrollHybridBanner",(function(n){var t=e.props.isSafari,r=0,o=n&&n.target;o&&o.documentElement&&o.documentElement.scrollTop>0?r=o.documentElement.scrollTop:o&&o.body&&o.body.scrollTop>0&&(r=o.body.scrollTop);var i=T*I;r<A?e.setState({shouldShowBanner:!1}):r<i?e.setState((function(e){return{shouldShowBanner:(0,u.o)()||t||3!==e.scrollSessionCount,scrollSessionCount:Math.ceil(r/T)}})):(0,l.F)()||(0,u.o)()||t&&n&&n.preventDefault()})),O(_(e),"onScrollHybridBannerThrottled",(0,i.Z)(e.onScrollHybridBanner,P)),e}return m(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScrollHybridBannerThrottled)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScrollHybridBannerThrottled)}},{key:"render",value:function(){var e=this.props.inviter,n=this.state.shouldShowBanner;return(0,d.jsx)(a.xu,{children:(0,d.jsx)(k,{fallback:(0,d.jsx)(a.xu,{}),shouldShowBanner:n,inviter:e})})}}]),t}(r.Component),Z=function(e){var n=(0,c.B)().isBot,t=(0,c.B)().userAgent.browserName;return n?null:(0,d.jsx)(C,h(h({},e),{},{isSafari:(0,s.G6)(t)}))};n.Z=Z},40293:function(e,n,t){var r=t(186964),o=t(724207),i=t(20814),a=t(69532),l=t(355247),u=t(498177),s=t(504193),c=t(735767),d=t(198873),f=t(188928),p=t(740049),h=t(256191);function g(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw i}}}}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=0;n.Z=function e(n,t){var y,w,x,_=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){b(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},n),S=t.onCorsHandshakeHost,j=t.registerUserContext,O=t.sendActiveUserPing,k=t.successWithoutTokenErrorMessage,P=(0,d.qn)("_lastVisitedPages"),I=(0,l.i$)(),T=null!==(y=null===(w=window)||void 0===w||null===(x=w.location)||void 0===x?void 0:x.search)&&void 0!==y?y:null,A=(0,u.mB)(T).utm_campaign;P&&(_.visited_pages=P),A&&(_.utm_campaign=A);var C,Z=i.ZP.localStorage.getItem("visitedPinLandingPagesBeforeLogin");if(I)_.visited_pages=I;else if(Z){var M,E=[],D=g(Z);try{for(D.s();!(M=D.n()).done;){var R=M.value;R.is_shared_pin&&E.push({ts:R.ts,path:R.path,first_pin_image_signature:R.image_signature,is_shared:!0})}}catch(U){D.e(U)}finally{D.f()}E&&(_.visited_pages=JSON.stringify(E.concat(P||[])))}_.user_behavior_data=(C={},["signupTriedSkipInputName","signupTriedSkipGender","unauthTopicsFollowed"].forEach((function(e){var n=i.ZP.localStorage.getItem(e);n&&(C[e]=n)})),JSON.stringify(C));var L=function(e){return(0,s.D)("signup"),r.zN(h.Mq.name),r.zN(h.x2.name),O(),r.t8(h.Xh,"1"),(0,d.L_)("_lastVisitedPages"),function(e,n){var t,r=n.logContextEventType,o=n.trackRegisterSuccess;switch(e.container){case"home_page":t=1750,(0,p.My)("signup_home_page");break;case"mweb_homepage":t=1750,(0,p.My)("signup_mweb_home_page");break;case"plain_signup_modal":t=1751,(0,p.My)("signup_plain_modal");break;case"closeup_signup_modal":t=1752,(0,p.My)("signup_closeup_modal");break;case"widescreen_signup_modal":t=1753,(0,p.My)("signup_widescreen_modal");break;case"pinit_button_landing":t=1755,(0,p.My)("signup_pinit_button_landing");break;case"inspired_banner":(0,p.My)("signup_inspired_banner");break;case"category_jump_banner":(0,p.My)("signup_category_jump_banner");break;case"send_pin_banner":t=1756,(0,p.My)("send_pin_banner");break;default:t=1754,(0,p.My)("signup_unknown_placement")}var i=e.container||"container_unknown";(0,p.My)("signup.container.".concat(i));var l=e.signupSource||"signupSource_unknown";(0,p.My)("signup.source.".concat(l)),t&&r(t);var u,s=document.referrer;u=s?s.indexOf("/t.co/")>-1?"twitter":s.indexOf("google.")>-1?"google":s.indexOf("bing.")>-1?"bing":s.indexOf("facebook.")>-1?"facebook":"other":"direct",o(),(0,p.De)({action:"signup",event:"success",referrer:u,type:(0,a.sR)(e)})}(_,t),e},N=function(n){if(n.api_error_code===c.tz&&((0,p.My)("multi_step_set_age_restrict_cookie"),r.t8(h.It,"1",(0,r.kZ)(h.It))),(!n.api_error_code||[c.dO,c.cZ].includes(n.api_error_code))&&v<3)return(0,p.My)("unauth_web.signup_retry_error.".concat(String(n.api_error_code),".").concat(String(_.container))),v+=1,e(_,t);throw(0,p.De)({action:"signup",event:"fail",type:(0,a.sR)(_)}),n};if(!_.facebook_id&&!_.gplus_code&&!_.gplus_id_token&&!_.google_open_id_token&&!_.line_id_token&&Boolean(_.email)&&S){(0,p.My)("unauth_cross_domain_register_debugging_counter");var B=function(e){(0,p.My)("web_cross_domain_register.".concat(e,".").concat((0,a.sR)(_)))};return B("attempt"),(0,f.registerUser)(_,j).then((function(e){L(e);var n=e.data||"";if(n)return B("success_with_token"),(0,f.exchangeTokenAndSetSession)(n,!0).then((function(e){B("success_token_exchanged")}),(function(e){throw B("success_token_not_exchanged"),e}));throw B("success_without_token"),new Error(k)}),(function(e){B("failure"),N(e)}))}return o.ZP.create("UserRegisterResource",_).callCreate().then((function(e){return L(e)}),(function(e){return N(e)}))}},101937:function(e,n,t){var r=t(924295),o=t(907043),i=t(277276),a=t(201060);n.Z=[r.l,o.m,i.g,a.E].join("")},308066:function(e,n,t){var r=t(20814);n.Z=function(){try{r.ZP.localStorage.setItem("unauthHybridLoginModalView",Date.now())}catch(e){console.error(e)}}},739936:function(e,n,t){t.d(n,{Z:function(){return T}});var r=t(32425),o=t(285230),i=t(193640),a=t(20814),l=function(){var e=a.ZP.localStorage.getItem("unauthHybridLoginModalView")||0;return Math.ceil((Date.now()-e)/1e3)<60},u=t(71445),s=function(e,n){return u.Z.incrementNow("pinner_conversion.upsell.dweb_signup_modal.".concat(e),1,n)};function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var p=function(e,n){switch(n.type){case"dismiss":return d(d({},e),{},{modal:{isShown:!1}});case"show":return d(d({},e),{},{modal:{isShown:!0,displayProps:n.displayProps}});default:return e}},h=function(){return(0,r.useReducer)(p,{modal:{isShown:!1}})},g=t(498177),y=t(722544),m=t(391878),b=t(198873),v=604800,w=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v,t=(0,b.qn)(e);return t&&Date.now()-parseInt(t,10)>1e3*n},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=a.ZP.localStorage.getItem("unauthHybridClickthroughCount");return w("unauthHybridClickthroughTS",e)||!n?0:parseInt(n,10)||0},_=t(958841),S=t(967484),j=t(740049),O=t(260259);function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return P(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var I=["todayArticleFeed","todayTab"],T=function(e){var n=e.pageType,t=k(h(),2),u=t[0],c=t[1],d=(0,y.B$)().loginForMore,f=(0,O.k6)(),p=(0,O.TH)(),b=function(e){var t=e.shouldDoSideEffects;t&&d&&I.includes(n)&&d.setVisible(!1),c({type:"dismiss"}),s("dispatch_dismiss",{shouldDoSideEffects:t})},P=function(e){c({type:"show",displayProps:e});var n=e.attributionLabel,t=e.container,r=e.modalType,o=e.reason;(0,j.My)("unauth_web_container.".concat(null!=t?t:"undefined",".tier1.").concat(r,".shown")),(0,j.LW)({action:"trigger",page_location:p,item:r.includes("signup")?"signup-modal":"login-modal"}),s("dispatch_show",{attributionLabel:n,modalType:r,reason:o})},T=function(e,n){return P({modalType:"login",attributionLabel:n,container:e,reason:"UPSELL_LOGIN_OR_SIGNUP"})},A=Boolean(null==d?void 0:d.visible),C=(0,r.useRef)(A);(0,r.useEffect)((function(){A!==C.current&&(C.current=A,I.includes(n)&&(A?T(n,"loginForMoreIsVisible"):b({shouldDoSideEffects:!0})))})),(0,r.useEffect)((function(){(0,j.My)("unauth_web.unauth_page_wrapper.".concat(n,".mounted.is_mobile_false")),"p100"===(0,g.mB)(window.location.search).utm_source&&(0,_.$)()}),[]);return{hideDesktopSignupModal:b,pinImageClickHandler:function(e){var t=e.event,r=e.pin,a=e.linkTarget;t&&t.preventDefault(),(0,j.My)("unauth.desktop.".concat(n,".pin_image.click"));var u="pin"===n,s=null;(0,_.o)()||((0,m.F)()?l()?(0,j.My)("unauth.desktop.".concat(n,".in_cooldown_period")):s={mt:"login"}:((0,m.w)(),s={mt:"login"}));var c=(0,o.Z)("/pin/".concat(r.id,"/"),s||{});"fullPageLoad"!==a?("duploClientNav"===a?f.push(c):window.open(c,"_blank").focus(),b({shouldDoSideEffects:!1}),(0,m.F)()||(0,_.o)()||((0,m.w)(),P({modalType:"login",attributionLabel:"pinImageClickHandler",container:u?S.PF:void 0,reason:"UPSELL_LOGIN_OR_SIGNUP"}))):(0,i.Z)(c,!1)},pinLinkClickHandler:function(){if(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,n=x();if(w("unauthHybridClickthroughTS",e)||!n)try{a.ZP.localStorage.setItem("unauthHybridClickthroughCount",1),a.ZP.localStorage.setItem("unauthHybridClickthroughTS",Date.now())}catch(t){console.error(t)}else try{a.ZP.localStorage.setItem("unauthHybridClickthroughCount",n+1)}catch(t){console.error(t)}}(),!(0,_.o)()){var e=x();2!==e&&e%5!=0||T(S.a2,"pinLinkClickHandler_tier1")}},modalOpened:!!u.modal.isShown,showDesktopSignupModal:P,signupModalState:u,showGoogleOneTapTriggeredModal:function(e){switch(e.type){case"CLICK_LOGIN_BUTTON":P({modalType:"login",attributionLabel:"tap.googleOneTap.login",source:"login",container:S.a7,reason:"CLICK_LOGIN_OR_SIGNUP"});break;case"LOGIN_ERROR":P({modalType:"login",source:"login",reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.googleOneTap.loginError"});break;case"SIGNUP_ERROR":P({modalType:"signup",source:"defaultSource",reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.googleOneTap.signupError"});break;case"MFA":P({modalType:"loginMfa",mfaCreds:e.mfaCreds,reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.googleOneTap.mfa"});break;case"GDPR_REQUIRES_AGE":P({modalType:"socialSignupWithAge",socialRegistrationCredentials:e.socialRegistrationCredentials,reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"tap.googleOneTap.gdprRequiresAge"})}}}}},979808:function(e,n,t){var r=t(125189),o="\narticle,\naside,\ndetails,\nfigcaption,\nfigure,\nfooter,\nheader,\nhgroup,\nnav,\nsection,\nul {\n  display: block;\n}\n\naudio,\ncanvas,\nvideo {\n  display: inline-block;\n}\n\naudio:not([controls]) {\n  display: none;\n}\n\nhtml {\n  font-size: 100%;\n  text-size-adjust: none;\n}\n\na:hover,\na:active {\n  outline: 0;\n}\n\nsub,\nsup {\n  position: relative;\n  font-size: 75%;\n  line-height: 0;\n  vertical-align: baseline;\n}\nsup {\n  top: -0.5em;\n}\nsub {\n  bottom: -0.25em;\n}\n\nimg {\n  max-width: 100%;\n  width: auto;\n  height: auto;\n\n  vertical-align: middle;\n  border: 0;\n  -ms-interpolation-mode: bicubic;\n}\n\n#map_canvas img {\n  max-width: none;\n}\n\nfieldset {\n  border: 0;\n  margin: 0;\n  padding: 0;\n}\n\nbutton,\ninput,\nselect,\ntextarea {\n  font-size: 100%;\n  margin: 0;\n  vertical-align: middle;\n}\nbutton,\ninput {\n  overflow: visible;\n  line-height: normal;\n}\nbutton::-moz-focus-inner,\ninput::-moz-focus-inner {\n  padding: 0;\n  border: 0;\n}\nbutton,\ninput[type='button'],\ninput[type='reset'],\ninput[type='submit'] {\n  cursor: pointer;\n  -webkit-appearance: button;\n}\ntextarea {\n  overflow: auto;\n  vertical-align: top;\n}\nbody {\n  margin: 0;\n}\nh1, h2, h3, h4, h5, h6 {\n  margin: 0;\n}\nfigure {\n  margin: 0;\n}"+"\nhtml {\n  background-color: #fff;\n}\n\nhtml, body {\n  font-family: ".concat(r.c,";\n  color: rgb(33, 25, 34);\n  font-size: 12px;\n  height: 100%;\n}\n\nbody {\n  position: relative;\n  overflow-y: overlay;\n  overflow-x: hidden;\n}\n\ninput::-ms-clear {\n  display: none;\n}\n\nul {\n  margin: 0;\n  padding: 0;\n}\n\nul li {\n  list-style: none;\n  padding: 0;\n}\n\n:focus {\n  outline: #d1d1d1 auto 1px\n}\n\nbutton, input, select, textarea {\n  font-family: ").concat(r.c,";\n  font-size: 100%;\n  vertical-align: middle;\n  margin: 0px;\n}\n\n.SkipToContent {\n  display: none;\n}\n");n.Z=o},391878:function(e,n,t){t.d(n,{F:function(){return i},w:function(){return a}});var r=t(186964),o=t(256191),i=function(){return r.U2(o.Z_)},a=function(){r.t8(o.Z_,"true",(0,r.kZ)(o.Z_))}},958841:function(e,n,t){t.d(n,{$:function(){return a},o:function(){return l}});var r=t(20814),o=t(513435),i="openUnauthType",a=function(){r.ZP.sessionStorage.setItem(i,"OPEN_UNAUTH")},l=function(){return(0,o.a)()||"OPEN_UNAUTH"===r.ZP.sessionStorage.getItem(i)}},987902:function(e,n){var t=["orig","736x","564x","474x","236x","170x"];n.Z=function(e,n){var r=e[n];if(r)return r;var o=t.indexOf(n);if(o>=0)for(var i=o+1;i<t.length;i+=1){var a=e[t[i]];if(a)return a}return e["236x"]}},521874:function(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var r=t(32425),o=t(979808),i=t(443109),a=t(101937),l=t(38553),u=t(196641),s=t(480299),c=t(338133),d=t(739936),f=t(200712),p=t(722544),h=t(532180),g=t(920781),y=t(885949);function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return b(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var v=o.Z+a.Z,w=function(e){var n,t=e.children,o=(0,f.Z)(),i=(0,d.Z)({pageType:o}),a=i.hideDesktopSignupModal,u=i.pinImageClickHandler,c=i.pinLinkClickHandler,p=i.showDesktopSignupModal,b=i.signupModalState,v=i.showGoogleOneTapTriggeredModal,w=(0,g.c)(),x=m((0,r.useState)(!1),2),_=x[0],S=x[1];return(0,y.jsxs)(h.t,{value:{isModalShown:b.modal.isShown,showDesktopSignupModal:p,pinImageClickHandler:u,pinLinkClickHandler:c,showGoogleOneTapTriggeredModal:v},children:[(0,y.jsx)(s.Z,{showDesktopSignupModal:p,children:t}),(0,y.jsx)(l.Z,{hideDesktopSignupModal:a,inviter:(null==w||null===(n=w.data)||void 0===n?void 0:n.inviter)||void 0,pageType:o,signupModalState:b,shouldShowSignupWelcomeLoading:_,setShouldShowSignupWelcomeLoading:S})]})};function x(e){var n=e.children,t=(0,c.Z)();return(0,y.jsx)(g.y,{children:(0,y.jsx)(p.I7,{value:t,children:(0,y.jsxs)("div",{role:"main",children:[(0,y.jsx)(i.Z,{unsafeCSS:v}),(0,y.jsx)(u.Z,{children:(0,y.jsx)(w,{children:n})})]})})})}},480299:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(940398),o=t(64328),i=t(758570),a=t(146846),l=t(885949);function u(e){var n=e.children,t=e.showDesktopSignupModal;return(0,l.jsx)(r.Z,{children:(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(i.default,{showDesktopSignupModal:t}),(0,l.jsx)(a.xu,{id:"mweb-unauth-container",children:n}),(0,l.jsx)(o.default,{})]})})}},338133:function(e,n,t){t.d(n,{Z:function(){return y}});var r=t(32425),o=t(762782),i=t(58545),a=t(978906),l=t(632589),u=t(710159),s=t(597569),c=t(781228),d=t(740049),f=t(660727),p=t(40293);function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var r,o,i=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(u){l=!0,o=u}finally{try{a||null==t.return||t.return()}finally{if(l)throw o}}return i}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return g(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return g(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function y(){var e,n={visible:(e=h((0,r.useState)(!1),2))[0],setVisible:e[1]},t=(0,s.Z)(),g=(0,f.vE)(),y=(0,u.ZP)(),m=(0,o.useSelector)((function(e){return e.session})),b=m.browser,v=m.country,w=m.facebookToken,x=m.isGoogleOneTapInitialized,_=m.locale,S=m.origin,j=m.referrer,O=m.unauthId,k=m.userAgentPlatform;return{facebookAccessTokenRefreshIsEnabled:function(){return!1},getDeviceAppTypeString:function(){return"desktop.".concat(v,".").concat(k,".").concat(b||"unknown").replace(/ /g,"_")},googleOneTapInitialized:x,loginForMore:n,register:function(e){return(0,p.Z)(e,{logContextEventType:function(e){t({event_type:e})},sendActiveUserPing:a.Z,registerUserContext:{facebookToken:w,inviteCode:g,locale:_,referrer:j,unauthId:O},onCorsHandshakeHost:l.Z.settings.CORS_HANDSHAKE_DOMAINS.includes(S),successWithoutTokenErrorMessage:y._("We were able to create your account, but there was a problem logging you in. Try refreshing the page to continue."," - "," -- "),trackRegisterSuccess:function(){(0,d.My)("signup_referrer_module.".concat(String((0,i.Z)().referrer||"unknown")))}})},viewer:(0,o.useSelector)((function(e){var n=e.session,t=e.users,r=n.isAuthenticated&&t[n.userId];if(r&&(0,c.xT)(r)){var o,i,a,l=r;return{type:"LIMITED_LOGIN",info:{connectedToFacebook:!!l.connected_to_facebook,connectedToGoogle:!!l.connected_to_google,email:null!==(o=l.email)&&void 0!==o?o:"",firstName:null!==(i=l.first_name)&&void 0!==i?i:"",hasPassword:!!l.has_password,imageUrl:null!==(a=l.image_medium_url)&&void 0!==a?a:null}}}if(n.isAuthenticated)return{type:"AUTH",info:null};var u,s=n.loggedOutUserInfo;return{type:"UNAUTH",info:s&&s.email&&s.first_name?{connectedToFacebook:!!s.connected_to_facebook,connectedToGoogle:!!s.connected_to_google,email:s.email,firstName:s.first_name,hasPassword:!!s.has_password,imageUrl:null!==(u=s.medium_image_url)&&void 0!==u?u:null}:null}}))}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/DesktopUnauthPageWrapper-e14b45b7dfe79293.js.map
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[21608],{65060:function(n,e,t){t.d(e,{N:function(){return i},t:function(){return r}});var r=0,i=1},375537:function(n,e,t){t.d(e,{HH:function(){return d},Jw:function(){return s},U5:function(){return c},UT:function(){return i},Ws:function(){return o},cK:function(){return l},cy:function(){return u},o4:function(){return a},tr:function(){return r},vA:function(){return f}});var r=3,i=[503459,503761],o="Gender",a="InterestPicker",u="LoadingStep",c="CreatorStep",s="AppInstall",l={NUX_GENDER_STEP_NAME:o,NUX_INTEREST_PICKER_STEP_NAME:a,NUX_LOADING_STEP_NAME:u,NUX_CREATOR_STEP_NAME:c,NUX_APP_INSTALL_STEP_NAME:s},d="mweb_nux_topic_picker_copy",f="mweb_content_first_activation_skippable_tp"},151015:function(n,e,t){t.d(e,{z:function(){return c}});var r=t(32425),i=t(762782),o=t(443109),a=t(146846),u=t(885949),c=2500,s="SavePin",l={__style:{right:"-105px"}},d={__style:{animationName:"".concat(s,"_AnimateIn, ").concat(s,"_CircleAnimateOut"),animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},f={__style:{animationName:"".concat(s,"_AnimateIn, ").concat(s,"_AnimateOut"),animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},p={__style:{animationName:"".concat(s,"_NavButtonAnimation"),animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};e.Z=(0,r.memo)((function(n){var e=n.children,t=(0,i.useSelector)((function(n){var e=n.pins,t=n.session,r=n.users[t.userId].last_repin_id;return r?e[r]:null})),r=(0,i.useSelector)((function(n){return n.session.isShowingRepinAnimation}));if(!t||!r)return e;var c=t.images,m=(null==c?void 0:c["136x136"])||(null==c?void 0:c["236x"])||{},h=m.height,v=m.width,b=m.url;return(0,u.jsxs)(a.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,u.jsx)(o.Z,{unsafeCSS:"\n@keyframes ".concat(s,"_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ").concat(s,"_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ").concat(s,"_AnimateOut {\n  from {\n    transform: translateY(0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(100px);\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n  }\n}\n@keyframes ").concat(s,"_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.3);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n")}),(0,u.jsxs)(a.xu,{position:"relative",children:[(0,u.jsxs)(a.xu,{width:250,height:250,position:"absolute",right:!0,bottom:!0,dangerouslySetInlineStyle:l,children:[(0,u.jsx)(a.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:d}),(0,u.jsx)(a.xu,{width:100,height:100,position:"absolute",margin:"auto",left:!0,right:!0,top:!0,bottom:!0,opacity:0,rounding:3,dangerouslySetInlineStyle:f,children:(0,u.jsx)(a.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,u.jsx)(a.Ee,{alt:"pin-image",fit:"cover",naturalWidth:null!=v?v:1,naturalHeight:null!=h?h:1,src:null!=b?b:""})})})]}),(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:p,children:e})]})]})}))},248924:function(n,e,t){var r=t(762782),i=t(151015),o=t(899518),a=t(476891),u=t(358142),c=t(885949);function s(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?s(Object(t),!0).forEach((function(e){d(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var f=(0,o.compose)((0,r.connect)(null,(function(n){return{hideRepinAnimation:function(){return n((0,a.a5)())},showRepinAnimation:function(){return n((0,a.WF)())}}})),(function(n){return function(e){var t=e.hideRepinAnimation,r=e.showRepinAnimation,o=(0,u.F9)(),a=o.showToast,s=o.showOneToast;return(0,c.jsx)(n,l(l({},e),{},{showToast:a,showOneToast:s,showRepinConfirmation:function(n,e){e||r(),setTimeout((function(){e||t(),a(n)}),i.z)}}))}}));e.Z=f},437756:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(762782),i=t(38268),o=t(710159),a=t(396500),u=t(740049),c=t(477783),s=t(260259),l=t(885949);function d(n){var e=n.alignIconLeft,t=n.bgColor,d=n.color,f=n.disableRedirect,p=void 0!==f&&f,m=n.fallbackUrl,h=n.icon,v=void 0===h?"arrow-back":h,b=n.onTouch,g=n.padding,y=n.placement,_=n.shouldUseFallbackUrl,x=n.size,w=void 0===x?"lg":x,j=n.viewParameter,S=n.viewType,P=(0,o.ZP)(),O=(0,s.k6)(),A=(0,s.TH)(),k=(0,r.useSelector)((function(n){return n.session.isAuthenticated}));return(0,l.jsx)(i.Z,{accessibilityLabel:P._("Back","navigation button","navigation button"),bgColor:t,color:d,icon:v,onTouch:function(){(0,a.y3)({action:"back_button_click",placement:y,isAuthenticated:k}),(0,u.LW)({action:"click",page:"pin",item:"back-button"}),S&&j&&(0,c.So)({view_type:S,view_parameter:j,element:34}),b&&b(),p||((!A.key||A.state&&"redirect"===A.state.referrer||_)&&m?O.push(m):A.pathname.includes("/password/reset/")&&A.search&&A.search.includes("?nativeShouldDismiss=true")?O.push("/login/?dismissWebview=true"):O.goBack())},padding:g||2,size:w,containerStyle:e?{display:"flex",alignItems:"center",marginLeft:"cancel"===v?"-4px":"-8px",width:"48px",height:"48px"}:{}})}},52968:function(n,e,t){t.d(e,{a:function(){return c}});var r=t(647136),i=t(644748),o=t(178521),a=t(979596),u=t(885949),c=function(n){var e=n.dispatch,t=n.i18n,c=n.showToast,s=n.newPinId,l=n.shouldRefresh,d=void 0!==l&&l,f=n.sourcePinId,p=n.boardId,m=n.boardSectionId,h=n.onSuccess;return e((0,a.q$)(s,p,m)).then((function(){e((0,a.t_)(f,p,m)),d&&(m&&e((0,o.A4)(m)),p&&e((0,i.uD)(p))),c((function(n){var e=n.onHide;return(0,u.jsx)(r.ZP,{text:t._("Pin deleted!","Utils.Unsave.Success","User deleted their pin"),onHide:e})})),h&&h()})).catch((function(){c((function(n){var e=n.onHide;return(0,u.jsx)(r.ZP,{variant:"error",text:t._("Sorry! There was an error deleting your Pin.","Utils.Unsave.Error","Error when user tried to delete pin"),onHide:e})}))}))}},673599:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(762782),i=t(260259),o=t(885949);function a(n){return(0,r.useSelector)((function(n){return n.session.isAuthenticated}))?null:(0,o.jsx)(i.l_,{to:n})}},396500:function(n,e,t){t.d(e,{BV:function(){return f},Zm:function(){return d},h3:function(){return c},vR:function(){return a},wp:function(){return s},xH:function(){return u},y3:function(){return l}});var r,i=t(65060),o=t(740049),a=function(){var n=r.getState().session;if(!n.isMobile&&!n.isTablet)return"desktop";switch(n.userAgentPlatform){case"ios":return"iphone";case"android":return n.isTablet?"android_tablet":"android";case"ipad":return"ipad";default:return"mobile_other"}},u=function(n,e){var t=4===e?3456:3455;return n===i.N?t:3050},c=function(n){var e=n.action,t=n.type,r=n.trigger;(0,o.De)({action:e,event:"success",type:t,trigger:r})},s=function(n){var e=n.action,t=n.type,r=n.trigger;(0,o.De)({action:e,event:"fail",type:t,trigger:r})},l=function(n){var e=n.action,t=n.placement,r=n.isAuthenticated;(0,o.My)("mweb_".concat(e,".").concat(String(t),".is_auth_").concat(String(r)))},d=function(n){r=n},f=function(n){(0,o.My)(n)}},448906:function(n,e,t){t.d(e,{CQ:function(){return p},Cj:function(){return y},ET:function(){return O},Il:function(){return _},In:function(){return T},Is:function(){return w},JF:function(){return I},NZ:function(){return b},PN:function(){return j},R_:function(){return h},Rf:function(){return d},T_:function(){return A},Ud:function(){return g},gI:function(){return v},i3:function(){return S},ik:function(){return E},kT:function(){return P},oF:function(){return m},ts:function(){return f},ut:function(){return C}});var r=t(491370);function i(n){return function(n){if(Array.isArray(n))return o(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){c(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function c(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var s=function(n){return n.boards},l=function(n){return n.invites},d=function(n){return n.users},f=function(n){return n.users[n.session.userId]||null},p=function(n){return function(n){return function(e,t){return e.feeds[function(n,e){return"string"==typeof n?n:n(e)}(n,t)]}}(n)},m=(0,r.P1)((function(n){return n.feeds}),(function(n){return Object.keys(n).filter((function(n){return n.includes("share-suggestions")})).reduce((function(e,t){return u(u({},e),{},c({},t,n[t]))}),{})})),h=(0,r.P1)(l,(function(n){return Object.keys(n).reduce((function(e,t){var r=t.split(":")[0],i=e[r]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return n[t]&&"not_invited"!==n[t].status&&("pending_approval"===n[t].status?i.pendingOwnerAction.push(t):i.notPendingOwnerAction.push(t),e[r]=i),e}),{})})),v=(0,r.P1)(l,(function(n){return Object.keys(n).reduce((function(e,t){var r=n[t];return e[t]=r,e}),{})})),b=(0,r.P1)(f,l,(function(n,e){return Object.keys(e).reduce((function(t,r){var i=r.split(":"),o=i[0],a=i[1],u=n.id===a,c=e[r]&&["new","contact_request_not_approved"].includes(e[r].status);return u&&c&&(t[o]=r),t}),{})})),g=(0,r.P1)(d,l,(function(n,e){return Object.keys(e).reduce((function(t,r){var i=e[r]||{};return t[r]=n[i.invited_by_user],t}),{})})),y=(0,r.P1)((function(n){return n.topics}),(function(n){return Object.keys(n).reduce((function(e,t){var r=n[t];return e[r.slug]=r,e[t]=r,e}),{})})),_=(0,r.P1)(d,(function(n){return Object.keys(n).reduce((function(e,t){var r=n[t];return e[r.username]=r,e}),{})})),x=(0,r.P1)(f,s,(function(n,e){return Object.keys(e).reduce((function(t,r){var i=e[r];return!i.archived_by_me_at&&(i.owner===n.id||i.collaborating_users&&i.collaborating_users.includes(n.id))&&i.cover_images?t.concat([i]):t}),[])})),w=(0,r.P1)(x,(function(n){return n.sort((function(n,e){return n.name.localeCompare(e.name)}))})),j=(0,r.P1)((function(n,e){return n.users[e.user_id]||null}),s,(function(n,e){return Object.keys(e).reduce((function(t,r){var i=e[r];return!i.archived_by_me_at&&n&&(i.owner===n.id||i.collaborating_users&&i.collaborating_users.includes(n.id))&&t.push(i),t}),[])})),S=(0,r.P1)(s,(function(n){return Object.keys(n).reduce((function(e,t){var r=n[t];return e[r.url]=r,r.oldSlugUrl&&(e[r.oldSlugUrl]=r),e}),{})})),P=(0,r.P1)((function(n){return n.boardsections}),(function(n){return Object.keys(n).reduce((function(e,t){var r=n[t];return e["".concat(r.board,"_").concat(r.slug)]=r,e}),{})})),O=(0,r.P1)(d,(function(n,e){return e}),(function(n,e){return e?[e.owner].concat(i(e.collaborating_users||[])).map((function(e){return n[e]})).filter(Boolean):[]})),A=p((function(n){var e=n.boardId;return"board-sections:".concat(e)})),k=p((function(n){var e=n.pinId;return"call-to-create-pins:".concat(e)})),I=(0,r.P1)((function(n){return n.pins}),k,(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map((function(e){return n[e.id]}))})),C=function(n){return n.experiences[40001]&&(40002===n.experiences[40001].experience_id||500450===n.experiences[40001].experience_id)},T=function(n){return n.experiences[40001]&&500681===n.experiences[40001].experience_id},E=function(n,e){var t=n.pins[e.pinId];return{callToCreateResponseCount:t.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:t.call_to_create_responses_preview_image_urls,callToCreateSourcePin:t.call_to_create_source_pin,callToCreateSourcePinId:t.call_to_create_source_pin_id,isCallToCreate:t.is_call_to_create}}},7853:function(n,e,t){t.d(e,{Io:function(){return X}});var r=t(32425),i=t(762782),o=t(308040),a=t(437756),u=t(608548),c=t(109770),s=t(414021),l=t(804055),d=t(647136),f=t(641914),p=t(133017),m=t(673599),h=t(248924),v=t(342548),b=t(745469),g=t(123686),y=t(911439),_=t(375537),x=t(477783),w=t(52968),j=t(710159),S=t(166371),P=t(979596),O=t(146846),A=t(474809),k=t(899518),I=t(260259),C=t(885949);function T(n){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function E(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function R(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach((function(e){z(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function B(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function N(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(n){B(o,r,i,a,u,"next",n)}function u(n){B(o,r,i,a,u,"throw",n)}a(void 0)}))}}function D(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Z(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function H(n,e){return(H=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,e)}function U(n){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=M(n);if(e){var i=M(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return F(this,t)}}function F(n,e){if(e&&("object"===T(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L(n)}function L(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function M(n){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function z(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var X=function(n,e,t){var r=t._("Saved to new board","Board saved message if the new board's name is not found","Board saved message if the new board's name is not found");return{text:e?(0,g.nk)(t._("Saved to {{ board }}","Board saved message","Board saved message"),{board:e}).join(" "):r,href:n}},q=function(n){return{color:n?"#fff":"#333",fontSize:21,fontWeight:"bold",background:"none",outline:"none",border:"none",marginTop:"4px",width:"100%"}},W=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&H(n,e)}(p,n);var e,t,i,f=U(p);function p(){var n;D(this,p);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return z(L(n=f.call.apply(f,[this].concat(t))),"state",{boardName:n.props.match.params.boardName||"",canSubmit:!!n.props.match.params.boardName,errorBoardNames:[],secret:!1,submitting:!1}),z(L(n),"handleRepinSuccess",(function(){return n.props.history.go(-2)})),z(L(n),"onSwitchToggle",(function(){n.setState((function(n){return{secret:!n.secret}}))})),z(L(n),"onInputChange",(function(e){var t=e.target.value,r=t.trim().length;n.setState((function(n){var e=n.errorBoardNames;return{boardName:t,canSubmit:r>0&&r<=100&&!e.includes(t)}}))})),z(L(n),"onCreateClick",n.props.requireAuthForLimitedLogin({fn:function(){var e=n.state,t=e.boardName,i=e.secret,o=e.submitting,a=n.props,l=a.createPin,f=a.createBoard,p=a.dispatchUnsavePin,m=a.history,h=a.i18n,v=a.location,g=a.match,y=a.pin,_=a.repinToBoard,w=a.showRepinConfirmation,j=a.showToast,S=a.undoSaveAction;if(!o){var P=i?"secret":"public",A=g.params.pinId,k=v.state?v.state.pinnedToBoardId:"",I=n.props.i18n._("Created Board!","Text in toast after creating a new board","Text in toast after creating a new board");if(A){var T=(0,s.Z)((v.state||{}).trackingParams,null==y?void 0:y.tracking_params);n.setState({submitting:!0}),f({name:t,pin:y,privacy:P}).then(function(){var e=N(regeneratorRuntime.mark((function e(r){var i,o,a,u,s,l,f,g,P,O,I,E,R,B,N,D,Z,H;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=null!==(i=r.url)&&void 0!==i?i:"",n.setState({submitting:!1}),(0,x.j)({event_type:20,view_type:3,object_id_str:A}),a=r.id,u=v.state&&v.state.pinDescription?v.state.pinDescription:"",s=v.state||{},l=s.isFirstBoardCreateActive,f=s.isEditingPin,g=s.pinBoardId,P=s.pinSectionId,O=X(o,t,h),I=O.href,E=O.text,R=(0,b.qV)({boardId:a,isFBC:l}),B=R.duration,N=R.text,D=R.thumbnail,Z=function(){return w((function(n){var e=n.onHide;return(0,C.jsx)(c.Z,{duration:B,href:I,onHide:e,text:N||E,thumbnail:D})}))},u?_({i18n:n.props.i18n,pinId:A,boardId:a,onSuccess:function(){n.completeFirstExperiences()},onUndo:S,showRepinConfirmation:function(n){return j(n)},trackingParams:{clientTrackingParams:T,pinnedToBoardId:k}}).catch((function(e){j((function(t){var r=t.onHide;return(0,C.jsx)(d.ZP,{variant:"error",text:e.message||n.props.i18n._("Sorry! Something went wrong on our end.","error completing repin","error completing repin"),onHide:r})}))})):(n.completeFirstExperiences(Z),(0,x.j)({event_type:5,view_type:3,component:7,object_id_str:A,clientTrackingParams:T,aux_data:{board_id:k,destination_board_id:a}})),!f||!y){e.next=14;break}return e.next=13,p(y.id,g,P);case 13:null!==(H=y.pinned_to_board)&&void 0!==H&&H.url&&m.replace(y.pinned_to_board.url);case 14:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),(function(e){j((function(t){var r=t.onHide;return(0,C.jsx)(d.ZP,{text:e.message||n.props.i18n._("Sorry! Something went wrong on our end.","error creating board","error creating board"),variant:"error",onHide:r})})),n.setState((function(n){return{errorBoardNames:n.errorBoardNames.concat(t),canSubmit:!1,submitting:!1}}))}))}else n.setState({submitting:!0}),f({name:t,pin:y,privacy:P}).then((function(e){var t=n.props.location.state;if(!t||0===Object.keys(t).length){n.setState({submitting:!1});var i=(0,b.qV)({boardId:e.id}),o=i.duration,a=i.text,s=i.thumbnail;return j((function(n){var e=n.onHide;return(0,C.jsx)(c.Z,{duration:o,onHide:e,text:a||I,thumbnail:s})})),void(e.url&&m.replace(e.url))}var f=t.description,p=t.guid,h=t.method,v=t.url,g=[];if("scraped"===t.method)t.imgData.forEach((function(n){return g.push(l({link:v,image_url:n,description:f,board_id:e.id,method:h,guid:p}))}));else{var y=t.base64Image,_=t.imageUrl;g.push(l({link:v,image_url:_,image_base64:y,description:f,board_id:e.id,method:h,guid:p}))}Promise.all(g).then((function(t){j((function(n){var e=n.onHide;return(0,C.jsx)(d.ZP,{text:I,onHide:e})})),j((function(t){var i=t.onHide;return(0,C.jsx)(d.ZP,{text:(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(O.xv,{children:n.props.i18n._("Saved to","Saved to {{ boardName }}","Saved to {{ boardName }}")}),(0,C.jsx)(O.xv,{weight:"bold",children:e.name})]}),iconThumbnail:(0,C.jsx)(O.xu,{width:54,height:54,children:(0,C.jsx)(u.Z,{boardId:e.id,type:"thumbnail"})}),onHide:i})})),(0,x.j)({event_type:1,view_type:92,component:7,object_id_str:t[0].resource_response.data.id}),n.setState({submitting:!1}),e.url&&m.replace(e.url)}),(function(){j((function(e){var t=e.onHide;return(0,C.jsx)(d.ZP,{text:n.props.i18n._("Sorry! Something went wrong on our end.","error during pin creation","error during pin creation"),onHide:t})})),n.setState({submitting:!1})}))}),(function(e){n.setState({submitting:!1}),j((function(t){var r=t.onHide;return(0,C.jsx)(d.ZP,{text:e.message_detail||e.message||n.props.i18n._("Sorry! Something went wrong on our end.","error creating board","error creating board"),variant:"error",onHide:r})}))}))}}})),z(L(n),"completeFirstExperiences",(function(e){var t=n.props,r=t.closeupExperience,i=t.repinExperience,o=t.completeExperience;if(r||i){var a=[];r&&r.placement_id&&_.UT.includes(r.experience_id)&&a.push(o(r.placement_id,r.experience_id)),i&&i.placement_id&&501032===i.experience_id&&a.push(o(i.placement_id,i.experience_id)),a.length>0&&Promise.all(a).then((function(){n.handleRepinSuccess(),e&&e()}))}else n.handleRepinSuccess(),e&&e()})),n}return e=p,(t=[{key:"componentDidMount",value:function(){var n=this.props,e=n.repinExperience,t=n.viewExperience;e&&t(e.placement_id,e.experience_id)}},{key:"render",value:function(){var n=this.props.i18n;return(0,C.jsxs)(l.default,{hasFixedHeader:!0,children:[(0,C.jsx)(o.Z,{text:n._("Create a Board","duplo.createboardpage.accessibilityModalLabel","Accessibility label for the create board page")}),(0,C.jsx)(v.FixedHeader,{children:(0,C.jsxs)(O.kC,{alignItems:"center",justifyContent:"start",children:[(0,C.jsx)(O.xu,{flex:"none",marginStart:-2,children:(0,C.jsx)(a.Z,{})}),(0,C.jsx)(O.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:(0,C.jsx)(O.xv,{align:"center",weight:"bold",children:this.props.i18n._("Create board","Label during board creation","Label during board creation")})}),(0,C.jsx)(O.kC,{alignItems:"stretch",flex:"none",justifyContent:"end",children:(0,C.jsx)(O.xu,{"data-test-id":"createBoardButton",children:(0,C.jsx)(O.zx,{fullWidth:!0,onClick:this.onCreateClick,color:"red",size:"sm",text:this.props.i18n._("Create","Create board button","Create board button"),disabled:!this.state.canSubmit||this.state.submitting})})})]})}),(0,C.jsx)(O.iz,{}),(0,C.jsxs)(O.xu,{paddingY:3,paddingX:4,children:[(0,C.jsx)(O.__,{htmlFor:"boardNameInput",children:(0,C.jsx)(O.xv,{size:"md",children:this.props.i18n._("Board name","Label during board creation","Label during board creation")})}),(0,C.jsx)("input",{id:"boardNameInput",placeholder:n._("Add"," - "," -- "),value:this.state.boardName,style:q((0,y.Yc)()),onChange:this.onInputChange})]}),(0,C.jsx)(O.iz,{}),(0,C.jsxs)(O.xu,{display:"flex",justifyContent:"between",paddingY:3,paddingX:4,children:[(0,C.jsx)(O.__,{htmlFor:"secretToggle",children:(0,C.jsx)(O.xv,{children:this.props.i18n._("Keep board secret","Toggle during board creation","Toggle during board creation")})}),(0,C.jsx)(O.rs,{id:"secretToggle",switched:this.state.secret,onChange:this.onSwitchToggle})]})]})}}])&&Z(e.prototype,t),i&&Z(e,i),p}(r.PureComponent);e.ZP=(0,k.compose)(h.Z,I.EN,(0,i.connect)((function(n,e){var t=n.experiences,r=n.pins,i=(n.session,n.users,e.match);return{closeupExperience:t[1000112],pin:i.params.pinId?r[i.params.pinId]:void 0,repinExperience:t[1000153]}}),(function(n,e){var t=e.showToast;return{completeExperience:function(e,t){return n((0,A.CK)(e,t))},viewExperience:function(e,t){return n((0,A.UT)(e,t))},createPin:function(e){return n((0,P.iX)(e))},undoSaveAction:function(e,r,i,o,a){return(0,w.a)({dispatch:n,i18n:a,showToast:t,newPinId:r,sourcePinId:e,boardId:i,boardSectionId:o})},repinToBoard:function(e){var t=e.i18n,r=e.pinId,i=e.boardId,o=e.onSuccess,a=e.onUndo,u=e.showRepinConfirmation,c=e.showToast,s=e.section,l=e.trackingParams;return n((0,P.wh)({i18n:t,pinId:r,boardId:i,onSuccess:o,onUndo:a,showRepinConfirmation:u,showToast:c,section:s,trackingParams:l}))},dispatchUnsavePin:function(e,t,r){return n((0,P.q$)(e,t||"",r))}}})))((function(n){var e=n.location,t=n.match,r=(0,f.Z)(),i=(0,p.Z)(),o=(0,j.ZP)(),a=(0,S.Z)(),u=(0,m.Z)("/");return n.match.params.pinId&&i?(0,C.jsx)(I.l_,{to:"/"}):u||(0,C.jsx)(W,R(R({},n),{},{createBoard:function(n){var i=n.name,o=n.pin,a=n.privacy,u=t.params.pinId,c=e.state&&e.state.pinDescription?e.state.pinDescription:"";if(u&&!c){var l=(0,s.Z)((e.state||{}).trackingParams,null==o?void 0:o.tracking_params);return r({boardCreateOptions:{name:i,privacy:a,initial_pins:[u],initial_pin_client_tracking_params:[l]}})}return r({boardCreateOptions:{name:i,privacy:a}})},i18n:o,requireAuthForLimitedLogin:a}))}))},928583:function(n,e,t){t.d(e,{Rq:function(){return r},Vf:function(){return i},jd:function(){return o},oy:function(){return a}});var r=function(n){return"ios"===n&&(window.devicePixelRatio||1)*window.screen.height==2436},i=28,o=function(n){return window.innerHeight>=748&&r(n)},a=function(){return!("undefined"==typeof window||!window.navigator)&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)}},133017:function(n,e,t){t.d(e,{G:function(){return s},Z:function(){return l}});var r=t(32425),i=t(260259),o=t(885949);function a(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var r,i,o=[],a=!0,u=!1;try{for(t=t.call(n);!(a=(r=t.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(c){u=!0,i=c}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}(n,e)||function(n,e){if(!n)return;if("string"==typeof n)return u(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var c=(0,r.createContext)(!0);function s(n){var e=n.children,t=(0,i.TH)(),u=a((0,r.useState)(!0),2),s=u[0],l=u[1],d=(0,r.useRef)(t);return(0,r.useEffect)((function(){d.current!==t&&(d.current=t,l(!1))}),[t]),(0,o.jsx)(c.Provider,{value:s,children:e})}function l(){return(0,r.useContext)(c)}},308040:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(146846),i=t(885949);function o(n){var e=n.text;return(0,i.jsx)(r.xu,{display:"visuallyHidden",children:(0,i.jsx)(r.X6,{accessibilityLevel:1,children:e})})}},641914:function(n,e,t){t.d(e,{Z:function(){return d}});var r=t(762782),i=t(724207),o=t(474809),a=t(841229),u=t(261484),c=t(689783),s=t(13750);function l(n,e,t,r,i,o,a){try{var u=n[o](a),c=u.value}catch(s){return void t(s)}u.done?e(c):Promise.resolve(c).then(r,i)}function d(){var n=(0,r.useDispatch)(),e=(0,r.useSelector)((function(n){return n.resources}));return function(){var t,r=(t=regeneratorRuntime.mark((function t(r){var l,d,f,p,m,h,v,b,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=r.boardCreateOptions,p=r.deprecatedSchemaForNormalization,t.next=3,i.ZP.create("BoardResource",f).callCreate();case 3:return m=t.sent,h=null===(l=m.resource_response)||void 0===l?void 0:l.data,v=p?(0,s.Fv)(h,p):void 0,n((0,c.XM)("BoardResource",f,m,v)),n((0,o.fO)({event_type:20})),null!==(d=h.owner)&&void 0!==d&&d.id&&n((0,u.bi)("UserResource",{options:{user_id:h.owner.id,field_set_key:"save_behavior"}})),b=e.BoardsResource||{},g=e.BoardsFeedResource||{},Object.keys(b).forEach((function(e){var t;(0,a.k)(e).username===(null===(t=h.owner)||void 0===t?void 0:t.username)&&n((0,c.jB)("BoardsResource",e))})),Object.keys(g).forEach((function(e){var t;(0,a.k)(e).username===(null===(t=h.owner)||void 0===t?void 0:t.username)&&n((0,c.jB)("BoardsFeedResource",e))})),t.abrupt("return",h);case 14:case"end":return t.stop()}}),t)})),function(){var n=this,e=arguments;return new Promise((function(r,i){var o=t.apply(n,e);function a(n){l(o,r,i,a,u,"next",n)}function u(n){l(o,r,i,a,u,"throw",n)}a(void 0)}))});return function(n){return r.apply(this,arguments)}}()}},491370:function(n,e){function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function r(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function i(n,e){return n===e}function o(n){var e=arguments.length<=1||void 0===arguments[1]?i:arguments[1],t=null,r=null;return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return null!==t&&t.length===o.length&&o.every((function(n,r){return e(n,t[r])}))||(r=n.apply(void 0,o)),t=o,r}}function a(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"==typeof n}))){var r=e.map((function(n){return t(n)})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return e}function u(n){for(var e=arguments.length,t=Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var u=0,c=i.pop(),s=a(i),l=n.apply(void 0,[function(){return u++,c.apply(void 0,arguments)}].concat(t)),d=function(n,e){for(var t=arguments.length,i=Array(t>2?t-2:0),o=2;o<t;o++)i[o-2]=arguments[o];var a=s.map((function(t){return t.apply(void 0,[n,e].concat(i))}));return l.apply(void 0,r(a))};return d.resultFunc=c,d.recomputations=function(){return u},d.resetRecomputations=function(){return u=0},d}}e.zB=function(n){var e=arguments.length<=1||void 0===arguments[1]?c:arguments[1];if("object"!==t(n))throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+t(n));var r=Object.keys(n);return e(r.map((function(e){return n[e]})),(function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return e.reduce((function(n,e,t){return n[r[t]]=e,n}),{})}))};var c=e.P1=u(o)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/21608-6a11502eb38d33dd.js.map
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[91093],{644748:function(r,e,n){n.d(e,{$z:function(){return g},KQ:function(){return E},L1:function(){return Z},OA:function(){return P},SD:function(){return m},Vq:function(){return D},Xi:function(){return _},YQ:function(){return R},YV:function(){return C},ZN:function(){return w},dK:function(){return B},fv:function(){return k},g:function(){return j},of:function(){return p},uD:function(){return S},xR:function(){return O},xk:function(){return A}});var t=n(71445),o=n(724207),u=n(164711),a=n(651487),c=n(13750),i=n(138365);function s(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function l(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){f(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function f(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}var d=function(r,e){return{type:i.Bc,payload:{id:r,value:e}}},p=function(r){return{type:i.XV,payload:{boardId:r}}},b=function(r,e){return{type:i.Aj,payload:{boardId:r,value:e}}},v=function(r,e,n){return{type:i.AZ,payload:{boardId:r,userId:e,isRequestToJoin:n}}},y=function(r,e,n,t){return{type:i.wc,payload:{boardId:r,userIds:e,viewingUser:n,status:t}}},h=function(r,e){return{type:i.Wn,payload:l(l({},e),{},{id:r})}},m=function(r,e){return function(n){return n(function(r,e){return{type:i.Tl,payload:{boardId:r,userId:e}}}(r,e)),o.ZP.create("BoardInviteResource",{board_id:r,invited_user_id:e}).callUpdate()}},_=function(r,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t){return t(v(r,e,n)),o.ZP.create("BoardInviteResource",{board_id:r,invited_user_id:e}).callUpdate()}},O=function(r,e){return function(n){return n(function(r,e){return{type:i.CD,payload:{boardId:r,userId:e}}}(r,e)),o.ZP.create("BoardInviteResource",{board_id:r,invited_user_id:e}).callDelete()}},g=function(r,e,n){return function(t){return t(y(r,e,n,"new")),o.ZP.create("BoardInviteResource",{board_id:r,invited_user_ids:e}).callCreate()}},P=function(r,e){return function(){return o.ZP.create("BoardEmailInviteResource",{board_id:r,emails:e}).callCreate()}},R=function(r,e,n,t){return function(u){var a="accepted"===e?"BoardCollaboratorResource":"BoardInviteResource";return u(function(r,e,n){return{type:i.Fi,payload:{boardId:r,userId:e,viewingUser:n}}}(r,n,t)),o.ZP.create(a,{board_id:r,field_set_key:"boardEdit",invited_user_id:n}).callDelete().catch((function(){return u(y(r,[n],t,e))}))}},w=function(r){return function(e){o.ZP.create("BoardFollowResource",{board_id:r}).callCreate().catch((function(){return e(d(r,!1))})),e(d(r,!0))}},k=function(r){return function(e){o.ZP.create("BoardFollowResource",{board_id:r}).callDelete().catch((function(){return e(d(r,!0))})),e(d(r,!1))}};function I(r,e){return o.ZP.create("BoardCollaboratorRequestResource",{board_id:r,requesting_user_id:e})}var S=function(r){return function(e){var n={board_id:r},t="BoardResource";return o.ZP.create(t,n).callGet().then((function(n){var t=(0,c.Fv)(n.resource_response.data,u.Z.BoardResource).entities.board[r];return e(h(r,t)),n}))}},j=function(r){return function(e,n){var t=n().session.userId;I(r,t).callCreate().catch((function(){e(b(r,!1))})),e(b(r,!0))}},B=function(r){return function(e,n){var t=n().session.userId;I(r,t).callDelete({showError:!1}).catch((function(){e(b(r,!0))})),e(b(r,!1))}},D=function(r,e){return function(n,t){var a=t().boards[r];return n(h(r,e)),o.ZP.create("BoardResource",l(l({},e),{},{board_id:r})).callUpdate().then((function(e){var t=(0,c.Fv)(e.resource_response.data,u.Z.BoardResource);return n(h(r,t.entities.boards[r])),e})).catch((function(e){throw a&&n(h(r,a)),e}))}},Z=function(r,e,n,t){return function(u){var a=o.ZP.create("BoardResource",{board_id:n}).callDelete();return u(function(r,e,n,t){return{type:i.OC,payload:{viewingUserId:r,viewingUsername:e,boardId:n,boardPinCount:t}}}(r,e,n,t)),a}},A=function(r,e){return function(n){return o.ZP.create("BoardArchiveResource",{boardId:r}).callUpdate().then((function(t){var o,u;return n((0,a.Q)("archived-boards",[{id:r,type:"board"}])),n((o=r,u=e,{type:i.VP,payload:{boardId:o,username:u}})),t}))}},C=function(r,e){return function(n){return o.ZP.create("BoardArchiveResource",{boardId:r}).callDelete().then((function(t){var o;return n((0,a.Q)("profile-boards:".concat(e),[{id:r,type:"board"}])),n((o=r,{type:i.s1,payload:{boardId:o}})),t}))}},E=function(r,e){return function(n){return o.ZP.create("SocialSearchCampaignResource",{boardId:r}).callGet().then((function(o){if(!o||!o.resource_response)return{};var u=o.resource_response.data||{},a=((u.model||{}).custom_properties||{}).campaign_id,c=void 0===a?"unknown":a,s=u.display_data||{},l=!!u.display_data,f=s.header_image_mobile,d=s.header_background_color,p=s.text_icon_color,b={boardId:r,isSocialSeasonalBoard:l,socialHeaderBgImage:f,socialHeaderBgColor:d,textIconColor:p};return t.Z.increment("mweb.seasonal_board.".concat(c,".").concat(e,".land")),n(function(r){return{type:i.o3,payload:r}}(b))}))}}},651487:function(r,e,n){n.d(e,{Q:function(){return o}});var t=n(138365),o=function(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.freeze({});return{type:t.MU,payload:{id:r,options:n,items:e}}}},261484:function(r,e,n){n.d(e,{U2:function(){return p},bi:function(){return b},v_:function(){return v}});var t=n(841229),o=n(724207),u=n(689783),a=n(480769);function c(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null==n)return;var t,o,u=[],a=!0,c=!1;try{for(n=n.call(r);!(a=(t=n.next()).done)&&(u.push(t.value),!e||u.length!==e);a=!0);}catch(i){c=!0,o=i}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return u}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return i(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}function s(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.push.apply(n,t)}return n}function l(r){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){f(r,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))}))}return r}function f(r,e,n){return e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function d(r){var e=r.fetchOptions,n=r.resource,i=r.retry;return function(r,s){var f,p,b,v=e.bookmark,y=e.headers,h=e.options,m=e.refresh,_=e.schema,O=(0,t.Z)(h);if(null!==(f=s().resources)&&void 0!==f&&null!==(p=f[n])&&void 0!==p&&null!==(b=p[O])&&void 0!==b&&b.fetching&&!i)return Promise.resolve();var g=i?i.bookmark:v,P=g?l(l({},h),{},{bookmarks:[g]}):h;return r((0,u.LQ)(n,h,!0)),o.ZP.create(n,P).callGet(void 0,y).then((function(t){var s,l,f,p=null===(s=t.resource_response)||void 0===s?void 0:s.data,b=c(t.bookmarks||[],1)[0];if(Array.isArray(p)&&0===p.length&&b&&b!==a.q){var y=i?i.count:0;if(!(y>=a.s))return r(d({resource:n,fetchOptions:e,retry:{count:y+1,bookmark:b}}))}null===(l=o.ZP.customDataManipulations)||void 0===l||l.call(o.ZP,n,p,h);var O=(null===(f=o.ZP.normalizeResponse)||void 0===f?void 0:f.call(o.ZP,{data:p,opts:{bookmark:v,options:h,schema:_},resource:n}))||{normalizedResponse:null,resourceSchema:void 0},g=O.normalizedResponse,P=O.resourceSchema;return v?r((0,u.Dm)(n,h,t,g,P)):(r((0,u.Sr)(n,h,t,g,m,P)),o.ZP.fetchCompleteCallback&&o.ZP.fetchCompleteCallback({resource:n,options:h,response:t,normalizedResponse:g,refresh:m,resourceSchema:P})),Promise.resolve()}),(function(e){r((0,u.Tl)(n,h,e))}))}}var p=function(r,e){return d({resource:r,fetchOptions:{bookmark:e.bookmark,headers:e.headers,options:e.options,refresh:!1,schema:e.schema}})},b=function(r,e){return d({resource:r,fetchOptions:{headers:e.headers,options:e.options,refresh:!0,schema:e.schema}})};function v(r,e,n){return function(t){var a=e.options;return o.ZP.create(r,a).callCreate().then((function(e){var o;if(null!==(o=e.resource_response)&&void 0!==o&&o.data){var c=e.resource_response.data,i=(null==n?void 0:n(c))||null;t((0,u.XM)(r,a,e,i))}return e}),(function(e){return t((0,u.Tl)(r,a,e)),e}))}}},689783:function(r,e,n){n.d(e,{Dm:function(){return i},LQ:function(){return u},Sr:function(){return c},Tl:function(){return a},XM:function(){return o},jB:function(){return s}});var t=n(824941);function o(r,e,n,o){return{type:t.AF,payload:{resource:r,options:e,response:n,normalizedResponse:o}}}function u(r,e,n){return{type:t.KK,payload:{resource:r,options:e,isFetching:n}}}var a=function(r,e,n){return{type:t.cR,payload:{resource:r,options:e,error:n}}};function c(r,e,n,o,u,a){return{type:t.zP,payload:{isRefresh:u,normalizedResponse:o,options:e,resource:r,response:n,schema:a}}}function i(r,e,n,o,u){return{type:t.aW,payload:{resource:r,options:e,response:n,normalizedResponse:o,schema:u}}}function s(r,e){return{type:t.se,payload:{resource:r,optionsOrOptionsKey:e}}}},379771:function(r,e,n){n.d(e,{Z:function(){return p}});var t=n(32425),o=n(762782),u=n(841229),a=n(480769),c=n(260259),i=n(952733),s=n(261484);function l(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var n=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null==n)return;var t,o,u=[],a=!0,c=!1;try{for(n=n.call(r);!(a=(t=n.next()).done)&&(u.push(t.value),!e||u.length!==e);a=!0);}catch(i){c=!0,o=i}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return u}(r,e)||function(r,e){if(!r)return;if("string"==typeof r)return f(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);"Object"===n&&r.constructor&&(n=r.constructor.name);if("Map"===n||"Set"===n)return Array.from(r);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(r,e)}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(r,e){(null==e||e>r.length)&&(e=r.length);for(var n=0,t=new Array(e);n<e;n++)t[n]=r[n];return t}var d={};function p(r){var e=r.dangerouslyDisableFetch,n=r.enabledRouteRefresh,f=r.__unstableEnableSuspenseSupport,p=r.headers,b=r.name,v=r.noCache,y=r.options,h=r.schema,m=(0,o.useDispatch)(),_=(0,u.Z)(y),O=(0,t.useRef)(null),g=(0,t.useRef)(),P=(0,c.k6)(),R=P&&"POP"!==P.action,w=function(r){return(r[b]||d)[_]||d},k=(0,o.useSelector)((function(r){var e=r.resources;return w(e).nextBookmark})),I=(0,o.useSelector)((function(r){var e=r.resources;return w(e).data})),S=(0,o.useSelector)((function(r){var e=r.resources;return w(e).auxData})),j=(0,o.useSelector)((function(r){var e=r.resources;return w(e).error})),B=(0,o.useSelector)((function(r){var e=r.resources;return Boolean(w(e).fetching)})),D=Boolean(j)||void 0!==I,Z=D&&!B&&k===a.q,A=Boolean(D&&n&&R&&!e),C=l((0,t.useState)(A),2),E=C[0],U=C[1],x=(0,t.useCallback)((function(r){O.current=m((0,s.U2)(b,{options:y,schema:h,bookmark:r,headers:p}))}),[m,b,_,h,p]),L=function(){O.current=m((0,s.bi)(b,{options:y,schema:h,headers:p}))},z=(0,i.B)().isBot,F=function(){if(!e&&g.current!==_){var r=void 0===g.current;g.current=_,!D&&!B||r&&j&&(!(n=j.httpStatus)||n>=500)?x():(!z&&v||A)&&L()}var n};(0,t.useEffect)((function(){f||F()})),f&&F();var q=(0,t.useCallback)((function(){e||(L(),U(!0))}),[e,s.bi,b,_,p,U]),M=(0,t.useCallback)((function(){!k||Z||B||e||x(k)}),[e,x,k,Z,B]);if(O.current)if(D&&!B)O.current=null;else if(f)throw O.current;var K=(0,t.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:M,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:q}),Q={auxData:S,data:I,error:j,fetchMore:M,isAtEnd:Z,isFetching:B,isLoaded:D,isRefreshing:E,nextBookmark:k,refresh:q};return(0,o.shallowEqual)(Q,K.current)||(!E||!K.current.data&&A||(0,o.shallowEqual)(Q.data,K.current.data)||(Q.isRefreshing=!1,U(!1)),K.current=Q),K.current}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/91093-9a9eba3c7e52daef.js.map